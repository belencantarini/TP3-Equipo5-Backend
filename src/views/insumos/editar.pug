extends ../layout

block content
  h2 Editar Insumo
  p ID: #{insumo && insumo._id}
  a.btn.btn-secondary(href="/insumos") Volver
  br
  br

  if error
    p.text-danger= error

  if insumo
    form(action=`/insumos/editar/${insumo._id}`, method="post", class="formulario")
      .form-group
        label(for="nombre") Nombre
        input#nombre.form-control(type="text", name="nombre", value=insumo.nombre, required)

      .form-group
        label(for="categoria") Categor√≠a
        select.form-control(name="categoria", required)
          each cat in categorias
            option(value=cat selected=(insumo.categoria === cat))= cat

      .form-group
        label(for="stock") Stock
        input#stock.form-control(type="number", name="stock", value=insumo.stock, required)

      .form-group
        label(for="unidad") Unidad
        select.form-control(name="unidad", required)
          each u in unidades
            option(value=u selected=(insumo.unidad === u))= u

      .form-group
        label(for="fechaVencimiento") Fecha de vencimiento
        - const fecha = insumo && insumo.fechaVencimiento ? new Date(insumo.fechaVencimiento).toISOString().slice(0,10) : ""
        input#fechaVencimiento.form-control(type="date", name="fechaVencimiento", value=fecha, required)

      .form-group
        label(for="estado") Estado
        select#estado.form-control(name="estado", required)
          each opcion in estados
            option(value=opcion selected=(insumo.estado === opcion))= opcion

      br
      button.btn.btn-primary(type="submit") Guardar cambios
  else
    p Insumo no encontrado