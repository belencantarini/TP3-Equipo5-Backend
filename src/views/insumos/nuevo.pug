extends ../layout

block content
  h2 Nuevo Insumo
  a.btn.btn-secondary(href="/insumos") Volver
  br
  br

  if error
    p.text-danger= error

  form(action="/insumos/nuevo", method="post", class="formulario")
    .form-group
      label(for="nombre") Nombre
      input#nombre.form-control(type="text", name="nombre", placeholder="Nombre", value=(insumo && insumo.nombre) ? insumo.nombre : "", required)

    .form-group
      label(for="categoria") Categor√≠a
      select.form-control(name="categoria", required)
        each cat in categorias
          option(value=cat selected=(insumo && insumo.categoria === cat))= cat

    .form-group
      label(for="stock") Stock
      input#stock.form-control(type="number", name="stock", placeholder="Stock", value=(insumo && insumo.stock) ? insumo.stock : "", required)

    .form-group
      label(for="unidad") Unidad
      select.form-control(name="unidad", required)
        each u in unidades
          option(value=u selected=(insumo && insumo.unidad === u))= u

    .form-group
      label(for="fechaVencimiento") Fecha de vencimiento
      - const fecha = insumo && insumo.fechaVencimiento ? new Date(insumo.fechaVencimiento).toISOString().slice(0,10) : ""
      input#fechaVencimiento.form-control(type="date", name="fechaVencimiento", value=fecha, required)

    br
    button.btn.btn-primary(type="submit") Guardar